<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Quit Journey - 8-Bit Pixel Demo</title>
  <link rel="stylesheet" href="demo-pixel.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
</head>
<body>
  
  <div class="quit-journey-container" id="quitJourney">
    
    <!-- Section 1: Avatar Selection (The Start) -->
    <section class="journey-section" id="avatar-selection" data-section="avatar">
      <div class="section-content">
        <h1 class="journey-title">Choose Your Guide</h1>
        <p class="journey-subtitle">Select an avatar to begin your quit journey</p>
        
        <div class="avatar-grid">
          <!-- Avatar Card 1 -->
          <div class="avatar-card" data-avatar-id="avatar-1" data-demographics='{"age": "18-25", "location": "Urban"}'>
            <div class="avatar-image-wrapper">
              <img src="assets/pixel-warrior.svg" alt="The Warrior" class="avatar-image">
            </div>
            <h3 class="avatar-name">The Warrior</h3>
            <p class="avatar-description">Young hero ready to fight</p>
          </div>

          <!-- Avatar Card 2 -->
          <div class="avatar-card" data-avatar-id="avatar-2" data-demographics='{"age": "26-35", "location": "Suburban"}'>
            <div class="avatar-image-wrapper">
              <img src="assets/pixel-farmer.svg" alt="The Pathfinder" class="avatar-image">
            </div>
            <h3 class="avatar-name">The Farmer</h3>
            <p class="avatar-description">Determined pathfinder</p>
          </div>

          <!-- Avatar Card 3 -->
          <div class="avatar-card" data-avatar-id="avatar-3" data-demographics='{"age": "36-50", "location": "Rural"}'>
            <div class="avatar-image-wrapper">
              <img src="assets/pixel-explorer.svg" alt="The Explorer" class="avatar-image">
            </div>
            <h3 class="avatar-name">The Explorer</h3>
            <p class="avatar-description">Adventurer seeking wisdom</p>
          </div>

          <!-- Avatar Card 4 -->
          <div class="avatar-card" data-avatar-id="avatar-4" data-demographics='{"age": "50+", "location": "Urban"}'>
            <div class="avatar-image-wrapper">
              <img src="assets/pixel-professional.svg" alt="The Sage" class="avatar-image">
            </div>
            <h3 class="avatar-name">The Sage</h3>
            <p class="avatar-description">Wise mentor of the realm</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Section 2: The Backpack (Product Selection) -->
    <section class="journey-section" id="backpack-selection" data-section="backpack">
      <div class="section-content">
        <h2 class="section-title">What Are You Carrying?</h2>
        <p class="section-description">Select all the products you want to leave behind</p>
        
        <div class="product-grid">
          <button class="product-btn" data-product="cigarettes">
            <span class="product-icon">ğŸš¬</span>
            <span class="product-name">Cigarettes</span>
          </button>
          
          <button class="product-btn" data-product="vapes">
            <span class="product-icon">ğŸ’¨</span>
            <span class="product-name">Vapes</span>
          </button>
          
          <button class="product-btn" data-product="marijuana">
            <span class="product-icon">ğŸŒ¿</span>
            <span class="product-name">Marijuana</span>
          </button>
          
          <button class="product-btn" data-product="nicotine-pouches">
            <span class="product-icon">ğŸ“¦</span>
            <span class="product-name">Nicotine Pouches</span>
          </button>
        </div>
        
        <button class="continue-btn" id="continueJourney" disabled>
          Continue Your Journey
        </button>
      </div>
    </section>

    <!-- Section 3: The Journey (Vertical Scroll Timeline) -->
    <section class="journey-section journey-path" id="journey-timeline" data-section="journey">
      
      <!-- Sticky Avatar that "walks" down the path -->
      <div class="avatar-traveler" id="avatarTraveler">
        <div class="avatar-icon">
          <img src="assets/pixel-warrior.svg" alt="Your Avatar" style="width: 100%; height: 100%;">
        </div>
      </div>

      <!-- Vertical Path SVG -->
      <svg class="path-line" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="none">
        <line x1="50" y1="0" x2="50" y2="100" stroke="#4A90E2" stroke-width="2" stroke-dasharray="5,5"/>
      </svg>

      <div class="milestones-container">
        
        <!-- Milestone 1: Universal Question -->
        <div class="milestone" data-milestone="1" data-required-products="">
          <div class="milestone-card milestone-left">
            <h3 class="milestone-title">â° How long have you been on this path?</h3>
            <div class="milestone-options">
              <button class="milestone-option" data-answer="less-than-1-year">
                ğŸŒ±<br>Less than a year
              </button>
              <button class="milestone-option" data-answer="1-5-years">
                ğŸŒ¿<br>1-5 years
              </button>
              <button class="milestone-option" data-answer="5-10-years">
                ğŸŒ³<br>5-10 years
              </button>
              <button class="milestone-option" data-answer="10-plus-years">
                ğŸŒ²<br>10+ years
              </button>
            </div>
          </div>
        </div>

        <!-- Milestone 2: Conditional - Cigarettes -->
        <div class="milestone" data-milestone="2" data-required-products="cigarettes">
          <div class="milestone-card milestone-right">
            <h3 class="milestone-title">ğŸš¬ Your daily cigarette count?</h3>
            <div class="milestone-options">
              <button class="milestone-option" data-answer="1-5">
                ğŸ’­<br>Just a few<br>(1-5)
              </button>
              <button class="milestone-option" data-answer="6-10">
                â˜ï¸<br>Half a pack<br>(6-10)
              </button>
              <button class="milestone-option" data-answer="11-20">
                ğŸŒ«ï¸<br>About a pack<br>(11-20)
              </button>
              <button class="milestone-option" data-answer="20-plus">
                â›ˆï¸<br>More than a pack<br>(20+)
              </button>
            </div>
          </div>
        </div>

        <!-- Milestone 3: Conditional - Vapes -->
        <div class="milestone" data-milestone="3" data-required-products="vapes">
          <div class="milestone-card milestone-left">
            <h3 class="milestone-title">ğŸ’¨ What's your vape style?</h3>
            <div class="milestone-options">
              <button class="milestone-option" data-answer="disposable">
                ğŸ”‹<br>Disposables
              </button>
              <button class="milestone-option" data-answer="pod-system">
                ğŸ“±<br>Pod system
              </button>
              <button class="milestone-option" data-answer="mod">
                ğŸ›ï¸<br>Box mod
              </button>
              <button class="milestone-option" data-answer="other">
                ğŸ¤·<br>Other device
              </button>
            </div>
          </div>
        </div>

        <!-- Milestone 4: Conditional - Marijuana -->
        <div class="milestone" data-milestone="4" data-required-products="marijuana">
          <div class="milestone-card milestone-right">
            <h3 class="milestone-title">ğŸŒ¿ How do you consume?</h3>
            <div class="milestone-options">
              <button class="milestone-option" data-answer="smoking">
                ğŸ”¥<br>Smoking
              </button>
              <button class="milestone-option" data-answer="edibles">
                ğŸª<br>Edibles
              </button>
              <button class="milestone-option" data-answer="vaping">
                ğŸ’¨<br>Vaping
              </button>
              <button class="milestone-option" data-answer="other">
                âœ¨<br>Other methods
              </button>
            </div>
          </div>
        </div>

        <!-- Milestone 5: Conditional - Nicotine Pouches -->
        <div class="milestone" data-milestone="5" data-required-products="nicotine-pouches">
          <div class="milestone-card milestone-left">
            <h3 class="milestone-title">ğŸ“¦ Your daily pouch routine?</h3>
            <div class="milestone-options">
              <button class="milestone-option" data-answer="1-5">
                ğŸŸ¢<br>Light use<br>(1-5)
              </button>
              <button class="milestone-option" data-answer="6-10">
                ğŸŸ¡<br>Moderate<br>(6-10)
              </button>
              <button class="milestone-option" data-answer="11-15">
                ğŸŸ <br>Heavy use<br>(11-15)
              </button>
              <button class="milestone-option" data-answer="15-plus">
                ğŸ”´<br>Very heavy<br>(15+)
              </button>
            </div>
          </div>
        </div>

        <!-- Milestone 6: Universal Question -->
        <div class="milestone" data-milestone="6" data-required-products="">
          <div class="milestone-card milestone-right">
            <h3 class="milestone-title">ğŸ’ª What's driving you to quit?</h3>
            <div class="milestone-options">
              <button class="milestone-option" data-answer="health">
                â¤ï¸<br>My health
              </button>
              <button class="milestone-option" data-answer="financial">
                ğŸ’°<br>Save money
              </button>
              <button class="milestone-option" data-answer="family">
                ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦<br>Family
              </button>
              <button class="milestone-option" data-answer="other">
                ğŸ¯<br>Other reasons
              </button>
            </div>
          </div>
        </div>

        <!-- Milestone 7: Universal Question -->
        <div class="milestone" data-milestone="7" data-required-products="">
          <div class="milestone-card milestone-left">
            <h3 class="milestone-title">ğŸ”„ Ever tried quitting before?</h3>
            <div class="milestone-options">
              <button class="milestone-option" data-answer="never">
                ğŸ†•<br>First time
              </button>
              <button class="milestone-option" data-answer="once">
                1ï¸âƒ£<br>Once before
              </button>
              <button class="milestone-option" data-answer="few-times">
                ğŸ”¢<br>A few times
              </button>
              <button class="milestone-option" data-answer="many-times">
                ğŸ”<br>Many attempts
              </button>
            </div>
          </div>
        </div>

      </div>
    </section>

    <!-- Section 4: The Destination (Form Submission) -->
    <section class="journey-section" id="destination" data-section="destination">
      <div class="section-content">
        <div class="destination-visual">
          <h2 class="destination-title">ğŸ”ï¸ You've Reached the Summit!</h2>
          <p class="destination-subtitle">Complete your journey by sharing your contact information</p>
        </div>

        <!-- Hidden inputs to capture game state -->
        <form id="quitJourneyForm" class="journey-form">
          <input type="hidden" name="avatar_selected" id="avatarField">
          <input type="hidden" name="demographics" id="demographicsField">
          <input type="hidden" name="products_selected" id="productsField">
          <input type="hidden" name="journey_answers" id="answersField">
          
          <!-- Visible form fields for user details -->
          <div class="form-group">
            <label for="firstName">First Name *</label>
            <input type="text" id="firstName" name="firstname" required>
          </div>
          
          <div class="form-group">
            <label for="lastName">Last Name *</label>
            <input type="text" id="lastName" name="lastname" required>
          </div>
          
          <div class="form-group">
            <label for="email">Email *</label>
            <input type="email" id="email" name="email" required>
          </div>
          
          <div class="form-group">
            <label for="phone">Phone Number</label>
            <input type="tel" id="phone" name="phone">
          </div>

          <button type="submit" class="submit-btn">Start Your Quit Journey</button>
        </form>

        <!-- Demo Controls -->
        <div class="demo-controls">
          <button class="demo-btn" onclick="journey.reset()">ğŸ”„ Reset Journey</button>
          <button class="demo-btn" onclick="console.log(journey.getState())">ğŸ“Š View State</button>
        </div>
      </div>
    </section>

  </div>

  <!-- Include the JavaScript -->
  <script src="demo-pixel.js"></script>
  <script>
    // Initialize the Journey
    let journey;
    document.addEventListener('DOMContentLoaded', function() {
      journey = new QuitJourney();
      window.journeyInstance = journey; // Make accessible globally for debugging
    });
  </script>

</body>
</html>
